<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Animated Login Form</title>
	<link rel="stylesheet" href="style6.css">
</head>
<body>
	<div class="box">
		<form id="form" autocomplete="off">
			<h2>Dealer Login</h2>
			<div class="inputBox">
				<input type="text" id="name" required="required">
				<span>Name</span>
				<i></i>
			</div>
            <div class="inputBox">
				<input type="password" id="password" required="required">
				<span>Password</span>
                
				<i></i>
			</div>
			<div class="links">
				<a href="#">Forgot Password ?</a>
			</div>
            <input type="submit" id="save" value="Login">
		</form>
	</div>
	<script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDu36y5_keMweNTyanphL4TZ5Q1HmJuQhs",
          authDomain: "fir-70f57.firebaseapp.com",
          databaseURL: "https://fir-70f57-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "fir-70f57",
          storageBucket: "fir-70f57.appspot.com",
          messagingSenderId: "160820084330",
          appId: "1:160820084330:web:5239643677d1a0494b9413"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        import{getDatabase, set, get, update, remove,ref, child, onValue}
        from "https://www.gstatic.com/firebasejs/9.11.0/firebase-database.js";

        const db = getDatabase();
       
        var name = document.querySelector("#name");
		var pw = document.querySelector("#password");
        var save= document.querySelector("#save");

		const FindData=e=>{
			e.preventDefault();
        const starCountRef = ref(db, 'Dealer_Login/' + name.value);
			onValue(starCountRef, (snapshot) => {
				if(snapshot.exists()){
					
					if(pw.value == snapshot.val().Password){
						name.value="";
						pw.value="";
                        window.location.href="Dealer_main.html";
					}
					else{
                        alert("Wrong Password");
                    }
				}
			else{
				name.value="";
				alert("user did not matched");
			}
		})
	}
        save.addEventListener('click',FindData);
      </script>
</body>
</html>